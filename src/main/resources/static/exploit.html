<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CyberStream - Exploit Engine</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/index.css">
</head>
<body>
  <header>
    <img src="./logo.png" alt="Logo">
    <h1>CyberStream - Exploit Engine</h1>
  </header>

  <nav>
    <a href="index.html">Smart Recon</a>
    <a href="scanner.html">Port Scanner</a>
    <a href="sniffer.html">Packet Sniffer</a>
    <a href="exploit.html" class="active">Exploit Engine</a>
  </nav>

  <main>
    <section>
      <h2>Exploit Simulation</h2>
      <p>Run banner grabbing or brute force simulation against a target service.</p>

      <label for="exploitTarget">Target IP:</label>
      <input type="text" id="exploitTarget" placeholder="e.g. 192.168.1.1">

      <label for="exploitPort">Target Port:</label>
      <input type="number" id="exploitPort" placeholder="e.g. 21">

      <button onclick="runExploit()">Grab Banner</button>
      <button onclick="runBruteForce()">Simulate Brute Force</button>
      <button onclick="fetchExploitLog()">Fetch Exploit Log</button>

      <pre id="exploitOutput">[Exploit output will appear here]</pre>
    </section>
  </main>

  <script>
    function runExploit() {
      const ip = document.getElementById("exploitTarget").value;
      const port = document.getElementById("exploitPort").value;
      const out = document.getElementById("exploitOutput");
      fetch(`http://localhost:8080/api/exploit/run?target=${ip}&port=${port}`)
        .then(res => res.text())
        .then(msg => out.textContent = msg)
        .catch(err => out.textContent = "Error: " + err);
    }

    function runBruteForce() {
      const ip = document.getElementById("exploitTarget").value;
      const port = document.getElementById("exploitPort").value;
      const out = document.getElementById("exploitOutput");
      fetch(`http://localhost:8080/api/exploit/brute-ssh?target=${ip}&port=${port}`)
        .then(res => res.text())
        .then(msg => out.textContent = msg)
        .catch(err => out.textContent = "Error: " + err);
    }

    function fetchExploitLog() {
      const out = document.getElementById("exploitOutput");
      fetch("http://localhost:8080/api/exploit/brute-log")
        .then(res => res.json())
        .then(data => out.textContent = data.join("\n"))
        .catch(err => out.textContent = "Error: " + err);
    }
  </script>
</body>
</html>
